// src/shared/AttemptResult.ts
var AttemptResultWidthDataImpl = class {
  constructor(isSucceeded, data, message) {
    this.IsSucceeded = isSucceeded;
    this.Data = data;
    this.Message = message;
  }
  static Succeeded(data) {
    return new AttemptResultWidthDataImpl(true, data, null);
  }
  static Fail(message) {
    return new AttemptResultWidthDataImpl(false, null, message);
  }
};

// src/shared/ElementHandler.ts
var ElementHandlerImpl = class {
  Get(query) {
    let result;
    try {
      result = document.querySelector(query);
    } catch (e) {
      return AttemptResultWidthDataImpl.Fail(`\u8981\u7D20\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002(\u8A73\u7D30\uFF1A${e.message})`);
    }
    return result == null ? AttemptResultWidthDataImpl.Fail("\u6307\u5B9A\u3055\u308C\u305F\u8981\u7D20\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002") : AttemptResultWidthDataImpl.Succeeded(result);
  }
  GetAll(query) {
    let result;
    try {
      result = document.querySelectorAll(query);
    } catch (e) {
      return AttemptResultWidthDataImpl.Fail(`\u8981\u7D20\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002(\u8A73\u7D30\uFF1A${e.message})`);
    }
    return AttemptResultWidthDataImpl.Succeeded(result);
  }
};

// src/videoList/sortHandler/elementIDs.ts
var ElementIDs = class {
};
ElementIDs.VideoListRow = ".VideoListRow";
ElementIDs.VideoListRowClassName = "VideoListRow";
ElementIDs.VideoListBodyClassName = "VideoListBody";
ElementIDs.DropTargetClassName = "DropTarget";

// src/videoList/sortHandler/sortHandler.ts
var SortHandlerImpl = class {
  constructor(elmHandler, dotnetHelper) {
    this._sourceNiconicoID = null;
    this._sourceID = null;
    this._lastOverElement = null;
    this._elmHandler = elmHandler;
    this._dotnetHelper = dotnetHelper;
  }
  Initialize() {
    const rowResult = this._elmHandler.GetAll(ElementIDs.VideoListRow);
    if (!rowResult.IsSucceeded || rowResult.Data === null) {
      return;
    }
    rowResult.Data.forEach((elm) => {
      if (elm instanceof HTMLElement) {
        elm.addEventListener("dragstart", (e) => {
          if (!(e.target instanceof HTMLElement)) {
            return;
          }
          const row = this.GetParentByClassName(e.target, ElementIDs.VideoListRowClassName);
          if (row === null) {
            return;
          }
          this._sourceNiconicoID = row.dataset["niconicoid"] ?? null;
          this._sourceID = row.id;
        });
        elm.addEventListener("dragover", (e) => {
          e.preventDefault();
          if (!(e.target instanceof HTMLElement)) {
            return;
          }
          const row = this.GetParentByClassName(e.target, ElementIDs.VideoListRowClassName);
          if (row === null) {
            return;
          }
          if (!row.classList.contains(ElementIDs.DropTargetClassName)) {
            row.classList.add(ElementIDs.DropTargetClassName);
          }
          this._lastOverElement = row;
        });
        elm.addEventListener("dragleave", (e) => {
          e.preventDefault();
          if (!(e.target instanceof HTMLElement)) {
            return;
          }
          const row = this.GetParentByClassName(e.target, ElementIDs.VideoListRowClassName);
          if (row === null) {
            return;
          }
          if (row.classList.contains(ElementIDs.DropTargetClassName)) {
            row.classList.remove(ElementIDs.DropTargetClassName);
          }
        });
        elm.addEventListener("drop", async (e) => {
          e.preventDefault();
          if (this._sourceNiconicoID === null) {
            return;
          }
          const sourceResult = this._elmHandler.Get(`#${this._sourceID}`);
          if (!sourceResult.IsSucceeded || sourceResult.Data === null) {
            return;
          }
          if (!(e.target instanceof HTMLElement)) {
            return;
          }
          let parent = e.target.parentNode;
          let dropTarget = e.target;
          while (parent !== null) {
            if (!(parent instanceof HTMLElement)) {
              return;
            }
            if (!parent.classList.contains(ElementIDs.VideoListBodyClassName)) {
              dropTarget = parent;
              parent = parent.parentNode;
              continue;
            }
            parent.insertBefore(sourceResult.Data, dropTarget);
            await this._dotnetHelper.invokeMethodAsync("MoveVideo", this._sourceNiconicoID, dropTarget.dataset["niconicoid"]);
            parent = null;
          }
          if (this._lastOverElement !== null) {
            if (this._lastOverElement.classList.contains(ElementIDs.DropTargetClassName)) {
              this._lastOverElement.classList.remove(ElementIDs.DropTargetClassName);
            }
          }
        });
      }
    });
  }
  GetParentByClassName(currentElement, className) {
    let parent = currentElement;
    while (parent !== null) {
      if (!(parent instanceof HTMLElement)) {
        return null;
      }
      if (!parent.classList.contains(className)) {
        parent = parent.parentNode;
        continue;
      }
      return parent;
    }
    return null;
  }
};

// src/videoList/widthHandler/ElementIds.ts
var ElementIDs2 = class {
};
ElementIDs2.PageContent = ".PageContent";
ElementIDs2.VideoListHeader = "#VideoListHeader";
ElementIDs2.Separator = ".Separator";

// src/videoList/widthHandler/widthHandler.ts
var WidthHandlerImpl = class {
  constructor(elementHandler) {
    this._isResizing = false;
    this._elmHandler = elementHandler;
    this._columnIDs = {
      "0": "CheckBoxColumn",
      "1": "ThumbnailColumn",
      "2": "TitleColumn",
      "3": "UploadedDateTimeColumn",
      "4": "IsDownloadedColumn",
      "5": "ViewCountColumn",
      "6": "CommentCountColumn",
      "7": "MylistCountColumn",
      "8": "LikeCountColumn",
      "9": "MessageColumn"
    };
    this._separatorIDs = {
      "0": "#CheckBoxColumnSeparator",
      "1": "#ThumbnailColumnSeparator",
      "2": "#TitleColumnSeparator",
      "3": "#UploadedDateTimeColumnSeparator",
      "4": "#IsDownloadedColumnSeparator",
      "5": "#ViewCountColumnSeparator",
      "6": "#CommentCountColumnSeparator",
      "7": "#MylistCountColumnSeparator",
      "8": "#LikeCountColumnSeparator"
    };
  }
  //#endregion
  Initialize() {
    const sepResult = this._elmHandler.GetAll(ElementIDs2.Separator);
    if (!sepResult.IsSucceeded || sepResult.Data === null)
      return;
    sepResult.Data.forEach((elm) => {
      if (!(elm instanceof HTMLElement))
        return;
      const indexS = elm.dataset.index;
      if (indexS == void 0)
        return;
      elm.addEventListener("mousedown", (_) => this.OnMouseDown(indexS));
    });
    const pageResult = this._elmHandler.Get(ElementIDs2.PageContent);
    if (!pageResult.IsSucceeded || pageResult.Data === null || !(pageResult.Data instanceof HTMLElement))
      return;
    pageResult.Data.addEventListener("mouseup", (_) => this.OnMouseUp());
    const headerResult = this._elmHandler.Get(ElementIDs2.VideoListHeader);
    if (!headerResult.IsSucceeded || headerResult.Data === null || !(headerResult.Data instanceof HTMLElement))
      return;
    headerResult.Data.addEventListener("mousemove", (e) => this.OnMouseMove(e));
  }
  //#region private
  OnMouseDown(index) {
    this._isResizing = true;
    this._resizingIndex = index;
  }
  OnMouseUp() {
    this._isResizing = false;
    this._resizingIndex = null;
  }
  OnMouseMove(e) {
    if (!this._isResizing || this._resizingIndex === null)
      return;
    const nextIndex = Number(this._resizingIndex) + 1;
    const headerResult = this._elmHandler.Get(`#${this._columnIDs[this._resizingIndex]}`);
    const nextHeaderResult = this._elmHandler.Get(`#${this._columnIDs[`${nextIndex}`]}`);
    const headerWrapperResult = this._elmHandler.Get(ElementIDs2.VideoListHeader);
    const columnResult = this._elmHandler.GetAll(`.${this._columnIDs[this._resizingIndex]}`);
    const nextColumnResult = this._elmHandler.GetAll(`.${this._columnIDs[`${nextIndex}`]}`);
    const sepResult = this._elmHandler.Get(this._separatorIDs[this._resizingIndex]);
    if (!headerResult.IsSucceeded || headerResult.Data === null || !columnResult.IsSucceeded || columnResult.Data === null || !sepResult.IsSucceeded || sepResult.Data === null || !headerWrapperResult.IsSucceeded || headerWrapperResult.Data === null || !nextHeaderResult.IsSucceeded || nextHeaderResult.Data === null || !nextColumnResult.IsSucceeded || nextColumnResult.Data === null)
      return;
    if (!(headerResult.Data instanceof HTMLElement))
      return;
    if (!(nextHeaderResult.Data instanceof HTMLElement))
      return;
    const headerRect = headerResult.Data.getBoundingClientRect();
    const headerWrapperRect = headerWrapperResult.Data.getBoundingClientRect();
    const width = e.clientX - headerRect.left;
    const deltaWidth = width - headerResult.Data.offsetWidth;
    const nextWidth = nextHeaderResult.Data.offsetWidth - deltaWidth;
    headerResult.Data.style.width = `${width}px`;
    nextHeaderResult.Data.style.width = `${nextWidth}px`;
    columnResult.Data.forEach((elm) => {
      if (!(elm instanceof HTMLElement))
        return;
      elm.style.width = `${width}px`;
    });
    nextColumnResult.Data.forEach((elm) => {
      if (!(elm instanceof HTMLElement))
        return;
      elm.style.width = `${nextWidth}px`;
    });
    if (!(headerWrapperResult.Data instanceof HTMLElement))
      return;
    if (!(sepResult.Data instanceof HTMLElement))
      return;
    const left = headerRect.left - headerWrapperRect.left + width - 10;
    sepResult.Data.style.left = `${left}px`;
  }
  //#endregion
};

// src/videoList/main.ts
function main(blazorView) {
  const elmHandler = new ElementHandlerImpl();
  const widthHandler = new WidthHandlerImpl(elmHandler);
  const sortHandler = new SortHandlerImpl(elmHandler, blazorView);
  widthHandler.Initialize();
  sortHandler.Initialize();
}
export {
  main
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vLi4vTmljb25pY29tZVdlYi9zcmMvc2hhcmVkL0F0dGVtcHRSZXN1bHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vTmljb25pY29tZVdlYi9zcmMvc2hhcmVkL0VsZW1lbnRIYW5kbGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL05pY29uaWNvbWVXZWIvc3JjL3ZpZGVvTGlzdC9zb3J0SGFuZGxlci9lbGVtZW50SURzLnRzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL05pY29uaWNvbWVXZWIvc3JjL3ZpZGVvTGlzdC9zb3J0SGFuZGxlci9zb3J0SGFuZGxlci50cyIsICIuLi8uLi8uLi8uLi8uLi8uLi9OaWNvbmljb21lV2ViL3NyYy92aWRlb0xpc3Qvd2lkdGhIYW5kbGVyL0VsZW1lbnRJZHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vTmljb25pY29tZVdlYi9zcmMvdmlkZW9MaXN0L3dpZHRoSGFuZGxlci93aWR0aEhhbmRsZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vTmljb25pY29tZVdlYi9zcmMvdmlkZW9MaXN0L21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBpbnRlcmZhY2UgQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YTxUPiBleHRlbmRzIEF0dGVtcHRSZXN1bHQge1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFx1MzBDN1x1MzBGQ1x1MzBCRlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBEYXRhOiBUIHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBdHRlbXB0UmVzdWx0IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFx1NjIxMFx1NTI5Rlx1MzBENVx1MzBFOVx1MzBCMFxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBJc1N1Y2NlZWRlZDogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFx1MzBFMVx1MzBDM1x1MzBCQlx1MzBGQ1x1MzBCOFxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBNZXNzYWdlOiBzdHJpbmcgfCBudWxsO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEF0dGVtcHRSZXN1bHRXaWR0aERhdGFJbXBsPFQ+IGltcGxlbWVudHMgQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YTxUPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNTdWNjZWVkZWQ6IGJvb2xlYW4sIGRhdGE6IFQgfCBudWxsLCBtZXNzYWdlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5Jc1N1Y2NlZWRlZCA9IGlzU3VjY2VlZGVkO1xyXG4gICAgICAgIHRoaXMuRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICByZWFkb25seSBJc1N1Y2NlZWRlZDogYm9vbGVhbjtcclxuXHJcbiAgICByZWFkb25seSBEYXRhOiBUIHwgbnVsbDtcclxuXHJcbiAgICByZWFkb25seSBNZXNzYWdlOiBzdHJpbmcgfCBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU3VjY2VlZGVkPFQ+KGRhdGE6IFQgfCBudWxsKTogQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhSW1wbCh0cnVlLCBkYXRhLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEZhaWw8VD4obWVzc2FnZTogc3RyaW5nKTogQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhSW1wbChmYWxzZSwgbnVsbCwgbWVzc2FnZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRlbXB0UmVzdWx0SW1wbCBpbXBsZW1lbnRzIEF0dGVtcHRSZXN1bHQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlzU3VjY2VlZGVkOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5Jc1N1Y2NlZWRlZCA9IGlzU3VjY2VlZGVkO1xyXG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZG9ubHkgSXNTdWNjZWVkZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgcmVhZG9ubHkgTWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFN1Y2NlZWRlZCgpOiBBdHRlbXB0UmVzdWx0IHtcclxuICAgICAgICByZXR1cm4gbmV3IEF0dGVtcHRSZXN1bHRJbXBsKHRydWUsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpbChtZXNzYWdlOiBzdHJpbmcpOiBBdHRlbXB0UmVzdWx0IHtcclxuICAgICAgICByZXR1cm4gbmV3IEF0dGVtcHRSZXN1bHRJbXBsKGZhbHNlLCBtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG5cclxuIiwgImltcG9ydCB7IEF0dGVtcHRSZXN1bHRXaWR0aERhdGEsIEF0dGVtcHRSZXN1bHRXaWR0aERhdGFJbXBsIH0gZnJvbSBcIi4vQXR0ZW1wdFJlc3VsdFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50SGFuZGxlciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTg5ODFcdTdEMjBcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEJcclxuICAgICAqIEBwYXJhbSBxdWVyeSBcdTMwQUZcdTMwQThcdTMwRUFcclxuICAgICAqL1xyXG4gICAgR2V0KHF1ZXJ5OnN0cmluZyk6IEF0dGVtcHRSZXN1bHRXaWR0aERhdGE8RWxlbWVudD47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTg5MDdcdTY1NzBcdTMwNkVcdTg5ODFcdTdEMjBcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEJcclxuICAgICAqIEBwYXJhbSBxdWVyeSBcdTMwQUZcdTMwQThcdTMwRUFcclxuICAgICAqL1xyXG4gICAgR2V0QWxsKHF1ZXJ5OiBzdHJpbmcpOiBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhPE5vZGVMaXN0T2Y8RWxlbWVudD4+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRWxlbWVudEhhbmRsZXJJbXBsIGltcGxlbWVudHMgRWxlbWVudEhhbmRsZXIge1xyXG5cclxuICAgIHB1YmxpYyBHZXQocXVlcnk6IHN0cmluZyk6IEF0dGVtcHRSZXN1bHRXaWR0aERhdGE8RWxlbWVudD4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OiBFbGVtZW50IHwgbnVsbDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhSW1wbC5GYWlsKGBcdTg5ODFcdTdEMjBcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNjdcdTMwNERcdTMwN0VcdTMwNUJcdTMwOTNcdTMwNjdcdTMwNTdcdTMwNUZcdTMwMDIoXHU4QTczXHU3RDMwXHVGRjFBJHtlLm1lc3NhZ2V9KWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID8gQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YUltcGwuRmFpbChcIlx1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA1Rlx1ODk4MVx1N0QyMFx1MzA0Q1x1ODk4Qlx1MzA2NFx1MzA0Qlx1MzA4QVx1MzA3RVx1MzA1Qlx1MzA5M1x1MzAwMlwiKSA6IEF0dGVtcHRSZXN1bHRXaWR0aERhdGFJbXBsLlN1Y2NlZWRlZChyZXN1bHQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgR2V0QWxsKHF1ZXJ5OiBzdHJpbmcpOiBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhPE5vZGVMaXN0T2Y8RWxlbWVudD4+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdDogTm9kZUxpc3RPZjxFbGVtZW50PjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChxdWVyeSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhSW1wbC5GYWlsKGBcdTg5ODFcdTdEMjBcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNjdcdTMwNERcdTMwN0VcdTMwNUJcdTMwOTNcdTMwNjdcdTMwNTdcdTMwNUZcdTMwMDIoXHU4QTczXHU3RDMwXHVGRjFBJHtlLm1lc3NhZ2V9KWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIEF0dGVtcHRSZXN1bHRXaWR0aERhdGFJbXBsLlN1Y2NlZWRlZChyZXN1bHQpO1xyXG4gICAgfVxyXG5cclxufSIsICJleHBvcnQgY2xhc3MgRWxlbWVudElEcyB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBWaWRlb0xpc3RSb3cgPSAnLlZpZGVvTGlzdFJvdyc7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBWaWRlb0xpc3RSb3dDbGFzc05hbWUgPSAnVmlkZW9MaXN0Um93JztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZpZGVvTGlzdEJvZHlDbGFzc05hbWUgPSAnVmlkZW9MaXN0Qm9keSc7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBEcm9wVGFyZ2V0Q2xhc3NOYW1lID0gJ0Ryb3BUYXJnZXQnO1xyXG59IiwgImltcG9ydCB7IERvdE5ldE9iamVjdFJlZmVyZW5jZSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvRG90TmV0T2JqZWN0UmVmZXJlbmNlXCI7XHJcbmltcG9ydCB7IEVsZW1lbnRIYW5kbGVyLCBFbGVtZW50SGFuZGxlckltcGwgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL0VsZW1lbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IEVsZW1lbnRJRHMgfSBmcm9tIFwiLi9lbGVtZW50SURzXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRIYW5kbGVyIHtcclxuICAgIEluaXRpYWxpemUoKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNvcnRIYW5kbGVySW1wbCBpbXBsZW1lbnRzIFNvcnRIYW5kbGVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbG1IYW5kbGVyOiBFbGVtZW50SGFuZGxlciwgZG90bmV0SGVscGVyOiBEb3ROZXRPYmplY3RSZWZlcmVuY2UpIHtcclxuICAgICAgICB0aGlzLl9lbG1IYW5kbGVyID0gZWxtSGFuZGxlcjtcclxuICAgICAgICB0aGlzLl9kb3RuZXRIZWxwZXIgPSBkb3RuZXRIZWxwZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZWxtSGFuZGxlcjogRWxlbWVudEhhbmRsZXI7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZG90bmV0SGVscGVyOiBEb3ROZXRPYmplY3RSZWZlcmVuY2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfc291cmNlTmljb25pY29JRDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfc291cmNlSUQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2xhc3RPdmVyRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHVibGljIEluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgcm93UmVzdWx0ID0gdGhpcy5fZWxtSGFuZGxlci5HZXRBbGwoRWxlbWVudElEcy5WaWRlb0xpc3RSb3cpO1xyXG4gICAgICAgIGlmICghcm93UmVzdWx0LklzU3VjY2VlZGVkIHx8IHJvd1Jlc3VsdC5EYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJvd1Jlc3VsdC5EYXRhLmZvckVhY2goZWxtID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbG0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdzogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5HZXRQYXJlbnRCeUNsYXNzTmFtZShlLnRhcmdldCwgRWxlbWVudElEcy5WaWRlb0xpc3RSb3dDbGFzc05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTmljb25pY29JRCA9IHJvdy5kYXRhc2V0WyduaWNvbmljb2lkJ10gPz8gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VJRCA9IHJvdy5pZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3c6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuR2V0UGFyZW50QnlDbGFzc05hbWUoZS50YXJnZXQsIEVsZW1lbnRJRHMuVmlkZW9MaXN0Um93Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcm93LmNsYXNzTGlzdC5jb250YWlucyhFbGVtZW50SURzLkRyb3BUYXJnZXRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKEVsZW1lbnRJRHMuRHJvcFRhcmdldENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RPdmVyRWxlbWVudCA9IHJvdztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93OiBIVE1MRWxlbWVudCB8IG51bGwgPSB0aGlzLkdldFBhcmVudEJ5Q2xhc3NOYW1lKGUudGFyZ2V0LCBFbGVtZW50SURzLlZpZGVvTGlzdFJvd0NsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93LmNsYXNzTGlzdC5jb250YWlucyhFbGVtZW50SURzLkRyb3BUYXJnZXRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QucmVtb3ZlKEVsZW1lbnRJRHMuRHJvcFRhcmdldENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBhc3luYyBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2VOaWNvbmljb0lEID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVJlc3VsdCA9IHRoaXMuX2VsbUhhbmRsZXIuR2V0KGAjJHt0aGlzLl9zb3VyY2VJRH1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZVJlc3VsdC5Jc1N1Y2NlZWRlZCB8fCBzb3VyY2VSZXN1bHQuRGF0YSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50OiBQYXJlbnROb2RlIHwgbnVsbCA9IGUudGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3BUYXJnZXQ6IEhUTUxFbGVtZW50ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhFbGVtZW50SURzLlZpZGVvTGlzdEJvZHlDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wVGFyZ2V0ID0gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzb3VyY2VSZXN1bHQuRGF0YSwgZHJvcFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2RvdG5ldEhlbHBlci5pbnZva2VNZXRob2RBc3luYyhcIk1vdmVWaWRlb1wiLCB0aGlzLl9zb3VyY2VOaWNvbmljb0lELCBkcm9wVGFyZ2V0LmRhdGFzZXRbJ25pY29uaWNvaWQnXSEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0T3ZlckVsZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RPdmVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoRWxlbWVudElEcy5Ecm9wVGFyZ2V0Q2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE92ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoRWxlbWVudElEcy5Ecm9wVGFyZ2V0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBHZXRQYXJlbnRCeUNsYXNzTmFtZShjdXJyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBsZXQgcGFyZW50OiBQYXJlbnROb2RlIHwgbnVsbCA9IGN1cnJlbnRFbGVtZW50O1xyXG5cclxuICAgICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn0iLCAiZXhwb3J0IGNsYXNzIEVsZW1lbnRJRHMge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUGFnZUNvbnRlbnQgPSAnLlBhZ2VDb250ZW50JztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZpZGVvTGlzdEhlYWRlciA9ICcjVmlkZW9MaXN0SGVhZGVyJztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNlcGFyYXRvciA9ICcuU2VwYXJhdG9yJztcclxuXHJcbn0iLCAiaW1wb3J0IHsgQXR0ZW1wdFJlc3VsdFdpZHRoRGF0YSB9IGZyb20gJy4uLy4uL3NoYXJlZC9BdHRlbXB0UmVzdWx0JztcclxuaW1wb3J0IHsgRWxlbWVudEhhbmRsZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvRWxlbWVudEhhbmRsZXInO1xyXG5pbXBvcnQgeyBFbGVtZW50SURzIH0gZnJvbSAnLi9FbGVtZW50SWRzJztcclxuaW1wb3J0IHsgRGljdGlvbmFyeSB9IGZyb20gJy4uLy4uL3NoYXJlZC9Db2xsZWN0aW9uL2RpY3Rpb25hcnknO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXaWR0aEhhbmRsZXIge1xyXG4gICAgSW5pdGlhbGl6ZSgpOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV2lkdGhIYW5kbGVySW1wbCBpbXBsZW1lbnRzIFdpZHRoSGFuZGxlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudEhhbmRsZXI6IEVsZW1lbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZWxtSGFuZGxlciA9IGVsZW1lbnRIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuX2NvbHVtbklEcyA9IHtcclxuICAgICAgICAgICAgJzAnOiAnQ2hlY2tCb3hDb2x1bW4nLFxyXG4gICAgICAgICAgICAnMSc6ICdUaHVtYm5haWxDb2x1bW4nLFxyXG4gICAgICAgICAgICAnMic6ICdUaXRsZUNvbHVtbicsXHJcbiAgICAgICAgICAgICczJzogJ1VwbG9hZGVkRGF0ZVRpbWVDb2x1bW4nLFxyXG4gICAgICAgICAgICAnNCc6ICdJc0Rvd25sb2FkZWRDb2x1bW4nLFxyXG4gICAgICAgICAgICAnNSc6ICdWaWV3Q291bnRDb2x1bW4nLFxyXG4gICAgICAgICAgICAnNic6ICdDb21tZW50Q291bnRDb2x1bW4nLFxyXG4gICAgICAgICAgICAnNyc6ICdNeWxpc3RDb3VudENvbHVtbicsXHJcbiAgICAgICAgICAgICc4JzogJ0xpa2VDb3VudENvbHVtbicsXHJcbiAgICAgICAgICAgICc5JzogJ01lc3NhZ2VDb2x1bW4nLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fc2VwYXJhdG9ySURzID0ge1xyXG4gICAgICAgICAgICAnMCc6ICcjQ2hlY2tCb3hDb2x1bW5TZXBhcmF0b3InLFxyXG4gICAgICAgICAgICAnMSc6ICcjVGh1bWJuYWlsQ29sdW1uU2VwYXJhdG9yJyxcclxuICAgICAgICAgICAgJzInOiAnI1RpdGxlQ29sdW1uU2VwYXJhdG9yJyxcclxuICAgICAgICAgICAgJzMnOiAnI1VwbG9hZGVkRGF0ZVRpbWVDb2x1bW5TZXBhcmF0b3InLFxyXG4gICAgICAgICAgICAnNCc6ICcjSXNEb3dubG9hZGVkQ29sdW1uU2VwYXJhdG9yJyxcclxuICAgICAgICAgICAgJzUnOiAnI1ZpZXdDb3VudENvbHVtblNlcGFyYXRvcicsXHJcbiAgICAgICAgICAgICc2JzogJyNDb21tZW50Q291bnRDb2x1bW5TZXBhcmF0b3InLFxyXG4gICAgICAgICAgICAnNyc6ICcjTXlsaXN0Q291bnRDb2x1bW5TZXBhcmF0b3InLFxyXG4gICAgICAgICAgICAnOCc6ICcjTGlrZUNvdW50Q29sdW1uU2VwYXJhdG9yJyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vI3JlZ2lvbiAgZmllbGRcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lbG1IYW5kbGVyOiBFbGVtZW50SGFuZGxlcjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2x1bW5JRHM6IERpY3Rpb25hcnk8c3RyaW5nPjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zZXBhcmF0b3JJRHM6IERpY3Rpb25hcnk8c3RyaW5nPjtcclxuXHJcbiAgICBwcml2YXRlIF9pc1Jlc2l6aW5nID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVzaXppbmdJbmRleDogbnVsbCB8IHN0cmluZztcclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICBwdWJsaWMgSW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VwUmVzdWx0OiBBdHRlbXB0UmVzdWx0V2lkdGhEYXRhPE5vZGVMaXN0T2Y8RWxlbWVudD4+ID0gdGhpcy5fZWxtSGFuZGxlci5HZXRBbGwoRWxlbWVudElEcy5TZXBhcmF0b3IpO1xyXG4gICAgICAgIGlmICghc2VwUmVzdWx0LklzU3VjY2VlZGVkIHx8IHNlcFJlc3VsdC5EYXRhID09PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHNlcFJlc3VsdC5EYXRhLmZvckVhY2goZWxtID0+IHtcclxuICAgICAgICAgICAgaWYgKCEoZWxtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpbmRleFMgPSBlbG0uZGF0YXNldC5pbmRleDtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleFMgPT0gdW5kZWZpbmVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgXyA9PiB0aGlzLk9uTW91c2VEb3duKGluZGV4UykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlUmVzdWx0ID0gdGhpcy5fZWxtSGFuZGxlci5HZXQoRWxlbWVudElEcy5QYWdlQ29udGVudCk7XHJcbiAgICAgICAgaWYgKCFwYWdlUmVzdWx0LklzU3VjY2VlZGVkIHx8IHBhZ2VSZXN1bHQuRGF0YSA9PT0gbnVsbCB8fCAhKHBhZ2VSZXN1bHQuRGF0YSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuO1xyXG4gICAgICAgIHBhZ2VSZXN1bHQuRGF0YS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgXyA9PiB0aGlzLk9uTW91c2VVcCgpKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyUmVzdWx0ID0gdGhpcy5fZWxtSGFuZGxlci5HZXQoRWxlbWVudElEcy5WaWRlb0xpc3RIZWFkZXIpO1xyXG4gICAgICAgIGlmICghaGVhZGVyUmVzdWx0LklzU3VjY2VlZGVkIHx8IGhlYWRlclJlc3VsdC5EYXRhID09PSBudWxsIHx8ICEoaGVhZGVyUmVzdWx0LkRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcclxuICAgICAgICBoZWFkZXJSZXN1bHQuRGF0YS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHRoaXMuT25Nb3VzZU1vdmUoZSkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyNyZWdpb24gcHJpdmF0ZVxyXG5cclxuICAgIHByaXZhdGUgT25Nb3VzZURvd24oaW5kZXg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2lzUmVzaXppbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3Jlc2l6aW5nSW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIE9uTW91c2VVcCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9pc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcmVzaXppbmdJbmRleCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBPbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc2l6aW5nIHx8IHRoaXMuX3Jlc2l6aW5nSW5kZXggPT09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gTnVtYmVyKHRoaXMuX3Jlc2l6aW5nSW5kZXgpICsgMTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyUmVzdWx0ID0gdGhpcy5fZWxtSGFuZGxlci5HZXQoYCMke3RoaXMuX2NvbHVtbklEc1t0aGlzLl9yZXNpemluZ0luZGV4XX1gKTtcclxuICAgICAgICBjb25zdCBuZXh0SGVhZGVyUmVzdWx0ID0gdGhpcy5fZWxtSGFuZGxlci5HZXQoYCMke3RoaXMuX2NvbHVtbklEc1tgJHtuZXh0SW5kZXh9YF19YCk7XHJcbiAgICAgICAgY29uc3QgaGVhZGVyV3JhcHBlclJlc3VsdCA9IHRoaXMuX2VsbUhhbmRsZXIuR2V0KEVsZW1lbnRJRHMuVmlkZW9MaXN0SGVhZGVyKTtcclxuICAgICAgICBjb25zdCBjb2x1bW5SZXN1bHQgPSB0aGlzLl9lbG1IYW5kbGVyLkdldEFsbChgLiR7dGhpcy5fY29sdW1uSURzW3RoaXMuX3Jlc2l6aW5nSW5kZXhdfWApO1xyXG4gICAgICAgIGNvbnN0IG5leHRDb2x1bW5SZXN1bHQgPSB0aGlzLl9lbG1IYW5kbGVyLkdldEFsbChgLiR7dGhpcy5fY29sdW1uSURzW2Ake25leHRJbmRleH1gXX1gKTtcclxuICAgICAgICBjb25zdCBzZXBSZXN1bHQgPSB0aGlzLl9lbG1IYW5kbGVyLkdldCh0aGlzLl9zZXBhcmF0b3JJRHNbdGhpcy5fcmVzaXppbmdJbmRleF0pO1xyXG5cclxuICAgICAgICBpZiAoIWhlYWRlclJlc3VsdC5Jc1N1Y2NlZWRlZCB8fCBoZWFkZXJSZXN1bHQuRGF0YSA9PT0gbnVsbCB8fCAhY29sdW1uUmVzdWx0LklzU3VjY2VlZGVkIHx8IGNvbHVtblJlc3VsdC5EYXRhID09PSBudWxsIHx8ICFzZXBSZXN1bHQuSXNTdWNjZWVkZWQgfHwgc2VwUmVzdWx0LkRhdGEgPT09IG51bGwgfHwgIWhlYWRlcldyYXBwZXJSZXN1bHQuSXNTdWNjZWVkZWQgfHwgaGVhZGVyV3JhcHBlclJlc3VsdC5EYXRhID09PSBudWxsIHx8ICFuZXh0SGVhZGVyUmVzdWx0LklzU3VjY2VlZGVkIHx8IG5leHRIZWFkZXJSZXN1bHQuRGF0YSA9PT0gbnVsbCB8fCAhbmV4dENvbHVtblJlc3VsdC5Jc1N1Y2NlZWRlZCB8fCBuZXh0Q29sdW1uUmVzdWx0LkRhdGEgPT09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKCEoaGVhZGVyUmVzdWx0LkRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcclxuICAgICAgICBpZiAoIShuZXh0SGVhZGVyUmVzdWx0LkRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyUmVjdDogRE9NUmVjdCA9IGhlYWRlclJlc3VsdC5EYXRhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcldyYXBwZXJSZWN0OiBET01SZWN0ID0gaGVhZGVyV3JhcHBlclJlc3VsdC5EYXRhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBlLmNsaWVudFggLSBoZWFkZXJSZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgZGVsdGFXaWR0aCA9IHdpZHRoIC0gaGVhZGVyUmVzdWx0LkRhdGEub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgY29uc3QgbmV4dFdpZHRoID0gbmV4dEhlYWRlclJlc3VsdC5EYXRhLm9mZnNldFdpZHRoIC0gZGVsdGFXaWR0aDtcclxuXHJcbiAgICAgICAgaGVhZGVyUmVzdWx0LkRhdGEuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XHJcbiAgICAgICAgbmV4dEhlYWRlclJlc3VsdC5EYXRhLnN0eWxlLndpZHRoID0gYCR7bmV4dFdpZHRofXB4YDtcclxuXHJcbiAgICAgICAgY29sdW1uUmVzdWx0LkRhdGEuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShlbG0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGVsbS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV4dENvbHVtblJlc3VsdC5EYXRhLmZvckVhY2goZWxtID0+IHtcclxuICAgICAgICAgICAgaWYgKCEoZWxtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBlbG0uc3R5bGUud2lkdGggPSBgJHtuZXh0V2lkdGh9cHhgO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIShoZWFkZXJXcmFwcGVyUmVzdWx0LkRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcclxuICAgICAgICBpZiAoIShzZXBSZXN1bHQuRGF0YSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0ID0gaGVhZGVyUmVjdC5sZWZ0IC0gaGVhZGVyV3JhcHBlclJlY3QubGVmdCArIHdpZHRoIC0gMTA7XHJcbiAgICAgICAgc2VwUmVzdWx0LkRhdGEuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2xhc3NOYW1lc0RpY3Qge1xyXG4gICAgW2luZGV4OiBudW1iZXJdOiBzdHJpbmc7XHJcbn0iLCAiaW1wb3J0IHsgRG90TmV0T2JqZWN0UmVmZXJlbmNlIH0gZnJvbSBcIi4uL3NoYXJlZC9Eb3ROZXRPYmplY3RSZWZlcmVuY2VcIjtcclxuaW1wb3J0IHsgRWxlbWVudEhhbmRsZXIsIEVsZW1lbnRIYW5kbGVySW1wbCB9IGZyb20gXCIuLi9zaGFyZWQvRWxlbWVudEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgU29ydEhhbmRsZXIsIFNvcnRIYW5kbGVySW1wbCB9IGZyb20gXCIuL3NvcnRIYW5kbGVyL3NvcnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IFdpZHRoSGFuZGxlciwgV2lkdGhIYW5kbGVySW1wbCB9IGZyb20gXCIuL3dpZHRoSGFuZGxlci93aWR0aEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWluKGJsYXpvclZpZXc6IERvdE5ldE9iamVjdFJlZmVyZW5jZSkge1xyXG4gICAgY29uc3QgZWxtSGFuZGxlcjogRWxlbWVudEhhbmRsZXIgPSBuZXcgRWxlbWVudEhhbmRsZXJJbXBsKCk7XHJcbiAgICBjb25zdCB3aWR0aEhhbmRsZXI6IFdpZHRoSGFuZGxlciA9IG5ldyBXaWR0aEhhbmRsZXJJbXBsKGVsbUhhbmRsZXIpO1xyXG4gICAgY29uc3Qgc29ydEhhbmRsZXI6IFNvcnRIYW5kbGVyID0gbmV3IFNvcnRIYW5kbGVySW1wbChlbG1IYW5kbGVyLCBibGF6b3JWaWV3KVxyXG5cclxuICAgIHdpZHRoSGFuZGxlci5Jbml0aWFsaXplKCk7XHJcbiAgICBzb3J0SGFuZGxlci5Jbml0aWFsaXplKCk7XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiO0FBc0JPLElBQU0sNkJBQU4sTUFBeUU7QUFBQSxFQUU1RSxZQUFZLGFBQXNCLE1BQWdCLFNBQXdCO0FBQ3RFLFNBQUssY0FBYztBQUNuQixTQUFLLE9BQU87QUFDWixTQUFLLFVBQVU7QUFBQSxFQUNuQjtBQUFBLEVBUUEsT0FBYyxVQUFhLE1BQTJDO0FBQ2xFLFdBQU8sSUFBSSwyQkFBMkIsTUFBTSxNQUFNLElBQUk7QUFBQSxFQUMxRDtBQUFBLEVBRUEsT0FBYyxLQUFRLFNBQTRDO0FBQzlELFdBQU8sSUFBSSwyQkFBMkIsT0FBTyxNQUFNLE9BQU87QUFBQSxFQUM5RDtBQUNKOzs7QUMxQk8sSUFBTSxxQkFBTixNQUFtRDtBQUFBLEVBRS9DLElBQUksT0FBZ0Q7QUFFdkQsUUFBSTtBQUVKLFFBQUk7QUFDQSxlQUFTLFNBQVMsY0FBYyxLQUFLO0FBQUEsSUFDekMsU0FBUyxHQUFQO0FBQ0UsYUFBTywyQkFBMkIsS0FBSywwR0FB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
